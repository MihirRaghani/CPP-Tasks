
#include <iostream>
#include <limits>

#define MAX_SIZE 5

class Stack {
private:
    int arr[MAX_SIZE];
    int topIndex;

public:
    Stack() {
        topIndex = -1;
    }

    bool isEmpty() const {
        return topIndex == -1;
    }

    bool isFull() const {
        return topIndex == MAX_SIZE - 1;
    }

    void push() {
        if (isFull()) {
            std::cout << "Stack Overflow! Cannot push element.\n";
            return;
        }

        int value;
        std::cout << "Enter value to push: ";
        while (!(std::cin >> value)) {
            std::cout << "Invalid input. Please enter an integer: ";
            std::cin.clear();
            std::cin.ignore(std::numeric_limits<std::streamsize>::max(), '\n');
        }

        arr[++topIndex] = value;
        std::cout << value << " pushed to stack.\n";
    }

    void pop() {
        if (isEmpty()) {
            std::cout << "Stack Underflow! Cannot pop element.\n";
            return;
        }
        
        std::cout << arr[topIndex--] << " popped from stack.\n";
    }

    void displayTop() const {
        if (isEmpty()) {
            std::cout << "Stack is empty. No top element to display.\n";
            return;
        }
        std::cout << "Top element is: " << arr[topIndex] << "\n";
    }

    void displayStack() const {
        if (isEmpty()) {
            std::cout << "Stack is empty.\n";
            return;
        }
        std::cout << "Stack elements (top to bottom): \n";
        for (int i = topIndex; i >= 0; i--) {
            std::cout << arr[i] << (i == topIndex ? " <-- TOP\n" : "\n");
        }
    }
};

int main() {
    Stack escalatorStack;
    int choice;

    do {
        std::cout << "\n--- Escalator (Stack) Menu ---\n";
        std::cout << "1. Push an element\n";
        std::cout << "2. Pop an element\n";
        std::cout << "3. Display the top element\n";
        std::cout << "4. Check if the stack is empty\n";
        std::cout << "5. Check if the stack is full\n";
        std::cout << "6. Display all elements\n";
        std::cout << "0. Exit\n";
        std::cout << "Enter your choice: ";

        if (!(std::cin >> choice)) {
            std::cout << "Invalid input. Please enter a number.\n";
            std::cin.clear();
            std::cin.ignore(std::numeric_limits<std::streamsize>::max(), '\n');
            choice = -1;
            continue;
        }

        switch (choice) {
            case 1:
                escalatorStack.push();
                break;
            case 2:
                escalatorStack.pop();
                break;
            case 3:
                escalatorStack.displayTop();
                break;
            case 4:
                if (escalatorStack.isEmpty()) {
                    std::cout << "The stack is EMPTY.\n";
                } else {
                    std::cout << "The stack is NOT empty.\n";
                }
                break;
            case 5:
                if (escalatorStack.isFull()) {
                    std::cout << "The stack is FULL.\n";
                } else {
                    std::cout << "The stack is NOT full.\n";
                }
                break;
            case 6:
                escalatorStack.displayStack();
                break;
            case 0:
                std::cout << "Exiting program. Good luck with your project!\n";
                break;
            default:
                std::cout << "Invalid choice. Please try again.\n";
        }
    } while (choice != 0);

    return 0;
}

